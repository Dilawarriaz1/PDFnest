<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PDFnest</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body { margin:0; font-family:'Poppins',sans-serif; background: #f5f7fa; color:#333; }
    header { background:#4a90e2; color:#fff; padding:1rem 2rem; display:flex; align-items:center; }
    header h1 { flex:1; font-size:1.5rem; margin:0; }
    #search { padding:0.5rem; font-size:1rem; border-radius:4px; border:none; width:200px; }
    #helpBtn { margin-left:1rem; background:#fff;color:#4a90e2;border:none;padding:0.5rem 1rem;border-radius:4px;cursor:pointer; }
    nav { display:flex; flex-wrap:wrap; padding:1rem 2rem; background:#fff; box-shadow:0 2px 4px rgba(0,0,0,.1); }
    .tool-btn { margin:0.5rem; padding:1rem 1.5rem; background:#e1eaff; border:none; border-radius:4px; cursor:pointer; flex:1 1 150px; text-align:center; font-weight:600; }
    main { padding:2rem; display:grid; grid-template-columns:1fr 1fr; gap:2rem; }
    .tool { background:#fff; padding:1.5rem; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,.05); }
    footer { text-align:center; padding:1rem; margin-top:2rem; color:#777; }
    /* Help Modal */
    .modal { display:none; position:fixed; top:0; left:0;width:100%;height:100%;background:rgba(0,0,0,0.6); justify-content:center; align-items:center; }
    .modal-content { background:#fff; padding:2rem; border-radius:8px; max-width:500px; }
    .close { float:right; cursor:pointer; font-size:1.2rem; }
  </style>
</head>
<body>
  <header>
    <h1>Ultimate PDF Toolkit</h1>
    <input id="search" type="text" placeholder="Search tools..." oninput="filterTools()" />
    <button id="helpBtn">Help</button>
  </header>

  <nav id="toolbar"></nav>

  <main id="toolsGrid"></main>

  <div id="helpModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeHelp()">&times;</span>
      <h2>How to Use</h2>
      <p>Select a tool from the toolbar above. Upload or record your file, then click ‚ÄúRun‚Äù. Results will appear below.</p>
    </div>
  </div>

  <footer>&copy; 2025 PDF Toolkit Inc.</footer>

  <script>
    const tools = [
      {id:'img2pdf', name:'Image ‚Üí PDF', handler: imgToPDF},
      {id:'word2pdf', name:'Word ‚Üí PDF', handler: wordToPDF},
      {id:'voice2pdf', name:'Voice ‚Üí PDF', handler: voiceToPDF},
      {id:'jpg2pdf', name:'JPG ‚Üí PDF', handler: imgToPDF},
      {id:'text2pdf', name:'Text ‚Üí PDF', handler: textToPDF},
      {id:'pdf2text', name:'PDF ‚Üí Text', handler: pdfToText},
      {id:'compress', name:'Compress PDF', handler: compressPDF},
      {id:'pdf2excel', name:'PDF ‚Üí Excel', handler: pdfToExcel},
      {id:'editpdf', name:'Edit PDF', handler: editPDF},
      {id:'editborder', name:'Edit Border', handler: editBorder},
      {id:'rotate', name:'Rotate PDF', handler: rotatePDF},
    ];

    function setup() {
      const toolbar = document.getElementById('toolbar'), grid = document.getElementById('toolsGrid');
      tools.forEach(t => {
        const btn = document.createElement('button');
        btn.className = 'tool-btn';
        btn.innerText = t.name;
        btn.onclick = () => activateTool(t);
        toolbar.appendChild(btn);

        const section = document.createElement('div');
        section.className = 'tool';
        section.id = t.id;
        section.style.display = 'none';
        section.innerHTML = `
          <h2>${t.name}</h2>
          <input type="file" id="${t.id}-in" ${t.id==='voice2pdf'?'' :'accept=': '"*/*"'} />
          ${t.id==='voice2pdf'?'<button onclick="startRecording()">üéôÔ∏è Record</button><p id="recStatus"></p>':''}
          <button onclick="${t.id}()">Run</button>
          <div id="${t.id}-out"></div>
        `;
        grid.appendChild(section);
      });
    }

    function activateTool(tool) {
      tools.forEach(t => {
        document.getElementById(t.id).style.display = (t.id===tool.id)?'block':'none';
      });
    }

    function filterTools() {
      const q = document.getElementById('search').value.toLowerCase();
      tools.forEach(t => {
        const btn = [...document.getElementsByClassName('tool-btn')].find(b => b.innerText===t.name);
        btn.style.display = t.name.toLowerCase().includes(q)?'inline-block':'none';
      });
    }

    // Placeholder handlers ‚Äì integrate your backend/WASM logic
    async function imgToPDF() { alert("Convert image to PDF"); }
    async function wordToPDF() { alert("Convert Word to PDF"); }
    async function voiceToPDF() { alert("Convert Voice to PDF"); }
    async function textToPDF() { alert("Convert text to PDF"); }
    async function pdfToText() { alert("Extract text from PDF"); }
    async function compressPDF() { alert("Compress PDF"); }
    async function pdfToExcel() { alert("Convert PDF to Excel"); }
    async function editPDF() { alert("Edit PDF content"); }
    async function editBorder() { alert("Edit PDF border/margin"); }
    async function rotatePDF() { alert("Rotate PDF pages"); }

    // Simple Help modal
    document.getElementById('helpBtn').onclick = () => {
      document.getElementById('helpModal').style.display = 'flex';
    };
    window.closeHelp = () => document.getElementById('helpModal').style.display = 'none';
    window.onclick = e => { if (e.target === document.getElementById('helpModal')) closeHelp(); };

    window.onload = setup;
  </script>
</body>
</html>
